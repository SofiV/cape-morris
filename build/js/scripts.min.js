$(document).ready(function(){$(".navbar-top .navbar-toggler").on("click",function(){$(this).parents(".navbar-top").toggleClass("head-active-menu")}),$(".form-custom input").on("focus change blur",function(){""!==$(this).val()?$(this).addClass("focus-label"):$(this).removeClass("focus-label")}),(new WOW).init(),$("[data-say-hi]").on("click",function(){$(this).parents().find(".toggle-rigth-hi").siblings().not(".toggle-rigth-hi").toggleClass("blur"),$(this).parents().find(".toggle-rigth-hi").toggleClass("toggle-hi-active")}),document.addEventListener("mousemove",function(i){document.querySelectorAll(".object").forEach(function(t){var e=t.getAttribute("data-value"),n=i.clientX*e/100,e=i.clientY*e/100;t.style.transform="translateX("+n+"px) translateY("+e+"px)"})})});let constrain=30,mouseOverContainer=document.getElementById("stay_updated"),rotateBlock=document.getElementById("stay_updated_inner");function transforms(t,e,n){n=n.getBoundingClientRect();return"perspective(3000px)    rotateX("+-(e-n.y-n.height/2)/constrain+"deg)    rotateY("+(t-n.x-n.width/2)/constrain+"deg) "}function transformElement(t,e){t.style.transform=transforms.apply(null,e)}var onMouseLeaveHandler=function(){rotateBlock.style="transform: rotateX(0deg) rotateY(0deg)"};mouseOverContainer.onmousemove=function(t){let e=[t.clientX,t.clientY],n=e.concat([rotateBlock]);window.requestAnimationFrame(function(){transformElement(rotateBlock,n)})},mouseOverContainer.onmouseleave=onMouseLeaveHandler,$("#contactUsForm").submit(function(t){var e,n=$(this),i=!1;return $(this).parent().find(".error-text").hide(),$(this).parents().find(".form-group").removeClass("error"),n.find("input").each(function(){switch($(this).attr("id")){case"inputName":""==$(this).val()&&($(this).parent().addClass("error"),$(this).parent().find(".error-text").text("Invalid name").show(),i=!0);break;case"inputEmailAddress":null==$(this).val().match(/^[a-zA-Z0-9._-]+@[a-zA-Z0-9-]+\.[a-zA-Z.]{2,5}$/)&&($(this).parent().addClass("error"),$(this).parent().find(".error-text").text("Invalid email").show(),i=!0);break;default:""==$(this).val()&&($(this).parent().addClass("error"),$(this).parent().find(".error-text").text("An error occurred").show(),i=!0)}}),i||(e=n.serialize(),$.ajax({type:"POST",url:"mail.php",dataType:"json",data:e,beforeSend:function(t){n.find('button[type="submit"]').attr("disabled","disabled")},success:function(t){t.error&&console.log(t.error)},error:function(t,e,n){console.log("status "+t.status),console.log("error "+n)},complete:function(t){n.find('button[type="submit"]').prop("disabled",!1)}}),$(this).hide(),$(".stay-updated-success").fadeIn()),!1});var canvasContainerDiv=document.getElementById("canvas_container_div"),canvas=document.getElementById("canvas"),ctx=canvas.getContext("2d"),canvRatio=1,points=[],pointCount=0,spans=[],spanCount=0,skins=[],skinCount=0,worldTime=0,gravity=.01,rigidity=10,friction=.999,bounceLoss=.9,skidLoss=.8,viewPoints=!1,viewSpans=!1,viewScaffolding=!1,viewSkins=!0,breeze=.4;function Point(t,e,n="material"){this.cx=t,this.cy=e,this.px=this.cx,this.py=this.cy,this.mass=1,this.materiality=n,this.fixed=!1,this.id=pointCount,pointCount+=1}function Span(t,e,n="visible"){this.p1=t,this.p2=e,this.l=distance(this.p1,this.p2),this.strength=1,this.visibility=n,this.id=spanCount,spanCount+=1}function Skin(t,e){this.points=t,this.color=e,this.id=skinCount,skinCount+=1}function scaleToWindow(){$(".plant-canvas").innerWidth>$(".plant-canvas").innerHeight?(canvasContainerDiv.style.height=$(".plant-canvas").innerHeight*canvRatio+"px",canvasContainerDiv.style.width=canvasContainerDiv.style.height):(canvasContainerDiv.style.width=$(".plant-canvas").innerWidth*canvRatio+"px",canvasContainerDiv.style.height=canvasContainerDiv.style.width)}function xValFromPct(t){return t*canvas.width/100}function yValFromPct(t){return t*canvas.height/100}function pctFromXVal(t){return 100*t/canvas.width}function pctFromYVal(t){return 100*t/canvas.height}function getPt(t){for(var e=0;e<points.length;e++)if(points[e].id==t)return points[e]}function distance(t,e){var n=e.cx-t.cx,t=e.cy-t.cy;return Math.sqrt(n*n+t*t)}function smp(t){return{x:(t.p1.cx+t.p2.cx)/2,y:(t.p1.cy+t.p2.cy)/2}}function removeSpan(t){for(var e=0;e<spans.length-1;e++)spans[e].id===t&&spans.splice(e,1)}function addPt(t,e,n="material"){return points.push(new Point(xValFromPct(t),yValFromPct(e),n)),points[points.length-1]}function addSp(t,e,n="visible"){return spans.push(new Span(getPt(t),getPt(e),n)),spans[spans.length-1]}function addSk(t,e){for(var n=[],i=0;i<t.length;i++)n.push(points[t[i]]);return skins.push(new Skin(n,e)),skins[skins.length-1]}function updatePoints(){for(var t=0;t<points.length;t++){var e,n,i=points[t];i.fixed||(e=(i.cx-i.px)*friction,n=(i.cy-i.py)*friction,i.py>=canvas.height-1&&i.py<=canvas.height&&(e*=skidLoss),i.px=i.cx,i.py=i.cy,i.cx+=e,i.cy+=n,i.cy+=gravity*i.mass,worldTime%Tl.rib(100,200)==0&&(i.cx+=Tl.rfb(-breeze,breeze)))}}function applyConstraints(t){for(var e=0;e<points.length;e++){var n=points[e];"material"===n.materiality&&(n.cx>canvas.width&&(n.cx=canvas.width,n.px=n.cx+(n.cx-n.px)*bounceLoss),n.cx<0&&(n.cx=0,n.px=n.cx+(n.cx-n.px)*bounceLoss),n.cy>canvas.height&&(n.cy=canvas.height,n.py=n.cy+(n.cy-n.py)*bounceLoss),n.cy<0&&(n.cy=0,n.py=n.cy+(n.cy-n.py)*bounceLoss))}}function updateSpans(t){for(var e,n,i,s,a,o,r=0;r<spans.length;r++)t+1<=Math.round(rigidity*spans[r].strength)&&(a=(e=spans[r]).p2.cx-e.p1.cx,n=e.p2.cy-e.p1.cy,s=Math.sqrt(a*a+n*n),o=e.l/s,i=e.p1.cx+a/2,s=e.p1.cy+n/2,a=a/2*o,o=n/2*o,e.p1.fixed||(e.p1.cx=i-a,e.p1.cy=s-o),e.p2.fixed||(e.p2.cx=i+a,e.p2.cy=s+o))}function refinePositions(){for(var t=rigidity,e=0;e<spans.length;e++){var n=Math.round(rigidity*spans[e].strength);t<n&&(t=n)}for(var i=0;i<t;i++)updateSpans(i),applyConstraints(e)}function renderPoints(){for(var t=0;t<points.length;t++){var e=points[t];ctx.beginPath(),ctx.fillStyle="blue",ctx.arc(e.cx,e.cy,3,0,2*Math.PI),ctx.fill()}}function renderSpans(){for(var t=0;t<spans.length;t++){var e=spans[t];"visible"==e.visibility&&(ctx.beginPath(),ctx.lineWidth=1,ctx.strokeStyle="blue",ctx.moveTo(e.p1.cx,e.p1.cy),ctx.lineTo(e.p2.cx,e.p2.cy),ctx.stroke())}}function renderScaffolding(){ctx.beginPath();for(var t=0;t<spans.length;t++){var e=spans[t];"hidden"===e.visibility&&(ctx.strokeStyle="pink",ctx.moveTo(e.p1.cx,e.p1.cy),ctx.lineTo(e.p2.cx,e.p2.cy))}ctx.stroke()}function renderSkins(){for(var t=0;t<skins.length;t++){var e=skins[t];ctx.beginPath(),ctx.strokeStyle=e.color,ctx.lineWidth=0,ctx.lineJoin="round",ctx.lineCap="round",ctx.fillStyle=e.color,ctx.moveTo(e.points[0].cx,e.points[0].cy);for(var n=1;n<e.points.length;n++)ctx.lineTo(e.points[n].cx,e.points[n].cy);ctx.lineTo(e.points[0].cx,e.points[0].cy),ctx.stroke(),ctx.fill()}}function clearCanvas(){ctx.clearRect(0,0,canvas.width,canvas.height)}function renderImages(){viewSpans&&renderSpans(),viewPoints&&renderPoints(),viewScaffolding&&renderScaffolding()}function runVerlet(){scaleToWindow(),updatePoints(),refinePositions(),clearCanvas(),renderImages(),worldTime++}window.addEventListener("resize",scaleToWindow);const Tl={rib:function(t,e){return Math.floor(Math.random()*(Math.floor(e)-Math.ceil(t)+1))+Math.ceil(t)},rfb:function(t,e){return Math.random()*(e-t)+t},radToDeg:function(t){return 180*t/Math.PI},degToRad:function(t){return t/180*Math.PI},pause:function(t){for(var e=Date.now();Date.now()-e<t;);}};var plants=[],plantCount=0,sunRays=[],sunRayCount=0,shadows=[],shadowCount=0,worldSpeed=1,restrictGrowthByEnergy=!1,viewShadows=!1,phr=2,geer=.5,leer=.03;function Plant(t){this.id=plantCount,this.segments=[],this.segmentCount=0,this.xLocation=t,this.energy=5e3,this.isAlive=!0,this.forwardGrowthRate=gravity*Tl.rfb(35,50),this.outwardGrowthRate=this.forwardGrowthRate*Tl.rfb(.18,.22),this.maxSegmentWidth=Tl.rfb(11,13),this.maxTotalSegments=Tl.rib(10,20),this.firstLeafSegment=Tl.rib(2,4),this.leafFrequency=Tl.rib(2,3),this.maxLeaflength=this.maxSegmentWidth*Tl.rfb(4,7),this.leafGrowthRate=this.forwardGrowthRate*Tl.rfb(1.4,1.6),this.ptB1=addPt(this.xLocation-.1,100),this.ptB2=addPt(this.xLocation+.1,100),this.ptB1.fixed=this.ptB2.fixed=!0,this.spB=addSp(this.ptB1.id,this.ptB2.id),createSegment(this,null,this.ptB1,this.ptB2)}function Segment(t,e,n,i){this.plantId=t.id,this.id=t.segmentCount,this.childSegment=null,this.hasChildSegment=!1,this.parentSegment=e,this.isBaseSegment=!1,null===this.parentSegment&&(this.isBaseSegment=!0),this.hasLeaves=!1,this.hasLeafScaffolding=!1,this.forwardGrowthRateVariation=Tl.rfb(.95,1.05),this.mass=1,this.strength=1.5,this.ptB1=n,this.ptB2=i;n=(this.ptB1.cx+this.ptB2.cx)/2,i=(this.ptB1.cy+this.ptB2.cy)/2;this.ptE1=addPt(pctFromXVal(n)-.1,pctFromYVal(i)-.1),this.ptE2=addPt(pctFromXVal(n)+.1,pctFromYVal(i)-.1),this.ptE1.mass=this.mass/2,this.ptE2.mass=this.mass/2,this.spL=addSp(this.ptB1.id,this.ptE1.id),this.spR=addSp(this.ptB2.id,this.ptE2.id),this.spF=addSp(this.ptE1.id,this.ptE2.id),this.spCd=addSp(this.ptE1.id,this.ptB2.id),this.spCu=addSp(this.ptB1.id,this.ptE2.id),this.spL.rigidity=this.strength,this.spR.rigidity=this.strength,this.spF.rigidity=this.strength,this.spCd.rigidity=this.strength,this.spCu.rigidity=this.strength,this.isBaseSegment||(this.spCdP=addSp(this.ptE1.id,this.parentSegment.ptB2.id),this.spCuP=addSp(this.parentSegment.ptB1.id,this.ptE2.id),this.spCdP.rigidity=this.strength,this.spCdP.rigidity=this.strength),this.ptLf1=null,this.ptLf2=null,this.spLf1=null,this.spLf2=null,this.skins=[],this.skins.push(addSk([this.ptE1.id,this.ptE2.id,this.ptB2.id,this.ptB1.id],"#93b7ac"))}function SunRay(){this.id=sunRayCount,this.x=xValFromPct(this.id),this.intensity=1,this.leafContacts=[]}function Shadow(t){this.p1=t.p1,this.p2=t.p2,this.p3={cx:this.p2.cx,cy:yValFromPct(100)},this.p4={cx:this.p1.cx,cy:yValFromPct(100)}}function createPlant(){plantCount++,plants.push(new Plant(Tl.rib(10,90)))}function createSegment(t,e,n,i){t.segmentCount++,t.segments.unshift(new Segment(t,e,n,i)),null!==e&&(e.childSegment=t.segments[t.segments.length-1],e.hasChildSegment=!0)}function createSunRays(){for(var t=0;t<101;t++)sunRays.push(new SunRay),sunRayCount++}function markRayLeafIntersections(){for(var t=0;t<plants.length;t++)for(var e=plants[t],n=0;n<e.segments.length;n++){var i=e.segments[n];if(i.hasLeaves){for(var s,a=i.ptLf1.cx<i.ptB1.cx?(s=i.ptLf1,i.ptB1):(s=i.ptB1,i.ptLf1),o=Math.ceil(pctFromXVal(s.cx)),r=Math.floor(pctFromXVal(a.cx)),c=o;c<=r;c++){var p=s.cy+(xValFromPct(c)-s.cx)*(a.cy-s.cy)/(a.cx-s.cx);sunRays[c].leafContacts.push({y:p,plant:e})}for(a=i.ptLf2.cx<i.ptB2.cx?(s=i.ptLf2,i.ptB2):(s=i.ptB2,i.ptLf2),o=Math.ceil(pctFromXVal(s.cx)),r=Math.floor(pctFromXVal(a.cx)),c=o;c<=r;c++)p=s.cy+(xValFromPct(c)-s.cx)*(a.cy-s.cy)/(a.cx-s.cx),sunRays[c].leafContacts.push({y:p,plant:e})}}}function photosynthesize(){for(var t=0;t<sunRays.length;t++){var e=sunRays[t];e.leafContacts.sort(function(t,e){return t.y-e.y});for(var n=0;n<e.leafContacts.length;n++){var i=e.leafContacts[n];e.intensity/=2,i.plant.energy+=e.intensity*phr}e.leafContacts=[],e.intensity=1}}function shedSunlight(){markRayLeafIntersections(),photosynthesize()}function markShadowPositions(t){shadows.push(new Shadow(t.spLf1)),shadows.push(new Shadow(t.spLf2))}function growPlants(){for(var t=0;t<plants.length;t++){var e=plants[t];if(e.energy>1e3*e.segmentCount&&5e3<e.energy&&(e.energy=1e3*e.segmentCount),0<e.energy||!restrictGrowthByEnergy)for(var n=0;n<plants[t].segments.length;n++){var i=plants[t].segments[n];i.spF.l<e.maxSegmentWidth&&e.segments.length<e.maxTotalSegments&&(lengthenSegmentSpans(e,i),e.energy-=i.spCd.l*geer),readyForChildSegment(e,i)&&createSegment(e,i,i.ptE1,i.ptE2),i.hasLeaves?e.segments.length<e.maxTotalSegments&&(growLeaves(e,i),e.energy-=(i.spLf1.l+i.spLf2.l)*geer):generateLeavesWhenReady(e,i)}e.energy-=e.segmentCount*leer}}function lengthenSegmentSpans(t,e){e.isBaseSegment?(e.ptB1.cx-=t.outwardGrowthRate/2,e.ptB2.cx+=t.outwardGrowthRate/2,t.spB.l=distance(e.ptB1,e.ptB2),e.spCd.l=distance(e.ptE1,e.ptB2)+t.forwardGrowthRate/3,e.spCu.l=e.spCd.l):(e.spCdP.l=distance(e.ptE1,e.parentSegment.ptB2)+t.forwardGrowthRate,e.spCuP.l=e.spCdP.l*e.forwardGrowthRateVariation,e.spCd.l=distance(e.ptE1,e.ptB2),e.spCu.l=distance(e.ptB1,e.ptE2)),e.spF.l+=t.outwardGrowthRate,e.spL.l=distance(e.ptB1,e.ptE1),e.spR.l=distance(e.ptB2,e.ptE2)}function readyForChildSegment(t,e){return e.spF.l>.333*t.maxSegmentWidth&&!e.hasChildSegment&&t.segmentCount<t.maxTotalSegments}function generateLeavesWhenReady(t,e){(e.id>=t.firstLeafSegment&&e.id%t.leafFrequency==0&&e.spF.l>.1*t.maxSegmentWidth||e.id===t.maxTotalSegments-1)&&(t=smp(e.spF),e.ptLf1=addPt(pctFromXVal(t.x),pctFromYVal(t.y-1)),e.ptLf2=addPt(pctFromXVal(t.x),pctFromYVal(t.y-1)),e.spLf1=addSp(e.ptB1.id,e.ptLf1.id),e.spLf2=addSp(e.ptB2.id,e.ptLf2.id),e.leafTipsTetherSpan=addSp(e.ptLf1.id,e.ptLf2.id),e.hasLeaves=!0)}function addLeafScaffolding(t,e){var n=e;removeSpan(n.leafTipsTetherSpan.id),n.ptLf1.cx-=100*gravity,n.ptLf2.cx+=100*gravity;t=n.ptE1.cx+.5*(n.ptE1.cx-n.ptE2.cx),e=n.ptE1.cy+.5*(n.ptE1.cy-n.ptE2.cy);n.ptLf1ScA=addPt(pctFromXVal(t),pctFromXVal(e),"immaterial"),n.ptLf1ScA.mass=0,t=(n.ptLf1.cx+n.ptLf1ScA.cx)/2,e=(n.ptLf1.cy+n.ptLf1ScA.cy)/2,n.ptLf1ScB=addPt(pctFromXVal(t),pctFromXVal(e),"immaterial"),n.ptLf1ScB.mass=0,t=n.ptE2.cx+.5*(n.ptE2.cx-n.ptE1.cx),e=n.ptE2.cy+.5*(n.ptE2.cy-n.ptE1.cy),n.ptLf2ScA=addPt(pctFromXVal(t),pctFromXVal(e),"immaterial"),n.ptLf2ScA.mass=0,t=(n.ptLf2.cx+n.ptLf2ScA.cx)/2,e=(n.ptLf2.cy+n.ptLf2ScA.cy)/2,n.ptLf2ScB=addPt(pctFromXVal(t),pctFromXVal(e),"immaterial"),n.ptLf2ScB.mass=0,n.spLf1ScA=addSp(n.ptE1.id,n.ptLf1ScA.id,"hidden"),n.spLf1ScB=addSp(n.ptB1.id,n.ptLf1ScA.id,"hidden"),n.spLf1ScC=addSp(n.ptLf1ScA.id,n.ptLf1ScB.id,"hidden"),n.spLf1ScD=addSp(n.ptLf1ScB.id,n.ptLf1.id,"hidden"),n.spLf2ScA=addSp(n.ptE2.id,n.ptLf2ScA.id,"hidden"),n.spLf2ScB=addSp(n.ptB2.id,n.ptLf2ScA.id,"hidden"),n.spLf2ScC=addSp(n.ptLf2ScA.id,n.ptLf2ScB.id,"hidden"),n.spLf2ScD=addSp(n.ptLf2ScB.id,n.ptLf2.id,"hidden"),n.hasLeafScaffolding=!0}function growLeaves(t,e){var n=t,i=e;i.spLf1.l<n.maxLeaflength&&(i.spLf1.l=i.spLf2.l+=n.leafGrowthRate,i.spF.l>.6*n.maxSegmentWidth&&!i.hasLeafScaffolding?addLeafScaffolding(t,e):i.hasLeafScaffolding&&(i.spLf1ScA.l+=1.25*n.leafGrowthRate,i.spLf1ScB.l+=1.5*n.leafGrowthRate,i.spLf1ScC.l+=.06*n.leafGrowthRate,i.spLf1ScD.l+=.06*n.leafGrowthRate,i.spLf2ScA.l+=1.25*n.leafGrowthRate,i.spLf2ScB.l+=1.5*n.leafGrowthRate,i.spLf2ScC.l+=.06*n.leafGrowthRate,i.spLf2ScD.l+=.06*n.leafGrowthRate))}function renderLeaf(t,e){var n=e.p1.cx,i=e.p1.cy,s=e.p2.cx,a=e.p2.cy,o=(n+s)/2,r=(i+a)/2;ctx.lineWidth=2,ctx.lineJoin="round",ctx.lineCap="round",ctx.strokeStyle="#5d8377",ctx.fillStyle="#5c8277";var c=o+.35*(a-i),e=r+.35*(n-s);ctx.beginPath(),ctx.moveTo(n,i),ctx.quadraticCurveTo(c,e,s,a),ctx.stroke(),ctx.fill(),c=o+.35*(i-a),e=r+.35*(s-n),ctx.beginPath(),ctx.moveTo(n,i),ctx.quadraticCurveTo(c,e,s,a),ctx.stroke(),ctx.fill(),ctx.beginPath(),ctx.lineWidth=1,ctx.strokeStyle="#9ebeb4",ctx.moveTo(n,i),ctx.lineTo(s,a),ctx.stroke()}function renderLeaves(t,e){e.hasLeaves&&(renderLeaf(t,e.spLf1),renderLeaf(t,e.spLf2),viewShadows&&markShadowPositions(e))}function renderStalks(t,e){for(var n=0;n<e.skins.length;n++){var i=e.skins[n];ctx.beginPath(),ctx.fillStyle=i.color,ctx.lineWidth=1,ctx.strokeStyle="#80B7C1",ctx.moveTo(i.points[0].cx,i.points[0].cy);for(var s=1;s<i.points.length;s++)ctx.lineTo(i.points[s].cx,i.points[s].cy);ctx.lineTo(i.points[0].cx,i.points[0].cy),ctx.stroke(),ctx.fill(),ctx.beginPath(),ctx.lineWidth=1,ctx.strokeStyle="#3f5c52",ctx.moveTo(i.points[3].cx,i.points[3].cy),ctx.lineTo(i.points[0].cx,i.points[0].cy),ctx.moveTo(i.points[2].cx,i.points[2].cy),ctx.lineTo(i.points[1].cx,i.points[1].cy),ctx.stroke(),e.hasChildSegment||(ctx.beginPath(),ctx.moveTo(i.points[3].cx,i.points[3].cy),ctx.lineTo(i.points[2].cx,i.points[2].cy),ctx.stroke())}}function renderPlants(){for(var t=0;t<plants.length;t++)for(var e=0;e<plants[t].segments.length;e++){var n=plants[t],i=plants[t].segments[e];renderStalks(n,i),renderLeaves(n,i)}}function renderShadows(){shadows.sort(function(t,e){return t.p2.cy-e.p2.cy});for(var t=0;t<shadows.length;t++){var e=shadows[t];ctx.beginPath(),ctx.moveTo(e.p1.cx,e.p1.cy),ctx.lineTo(e.p2.cx,e.p2.cy),ctx.lineTo(e.p3.cx,e.p3.cy),ctx.lineTo(e.p4.cx,e.p4.cy),ctx.lineTo(e.p1.cx,e.p1.cy),ctx.fillStyle="rgba( 0, 0, 0, 0.1 )",ctx.fill()}shadows=[],shadowCount=0}for(var i=0;i<25;i++)createPlant();function display(){runVerlet(),worldTime%worldSpeed==0&&growPlants(),renderPlants(),shedSunlight(),renderShadows(),window.requestAnimationFrame(display)}function isInView(t){return $(t).offset().top-$(window).scrollTop()<$(t).height()}$(window).scroll(function(){isInView($(".services"))&&(createSunRays(),display())});